:root {
  --primary: #4a90e2;
  --secondary: #f5f5f5;
  --accent: #ff6b6b;
  --success: #4caf50;
  --warning: #fb8c00;
  --text: #333;
  --bg: #f4f6f8;
  --card: #fff;
  --shadow: rgba(0,0,0,0.15);
  --font: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body.dark-mode {
  --bg: #1e1e2f;
  --text: #f0f0f0;
  --card: #2c2c3e;
  --shadow: rgba(0,0,0,0.6);
}

/* Global */
* { margin:0; padding:0; box-sizing:border-box; font-family: var(--font); }
body { background: var(--bg); color: var(--text); transition:0.3s; }

/* Header */
header { text-align:center; padding:50px 20px; background: linear-gradient(135deg, #4a90e2, #50e3c2); color:#fff; border-radius:0 0 30px 30px; box-shadow:0 8px 25px var(--shadow); }
header h1{ font-size:2.2rem; margin-bottom:10px; }
header p{ font-size:1.1rem; opacity:0.9; }

/* Summary Cards */
.summary-container{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1.2rem; margin:2rem 0; }
.summary-card{ background: var(--card); padding:30px 20px; border-radius:20px; text-align:center; box-shadow:0 10px 25px var(--shadow); transition:0.3s; cursor:default; }
.summary-card:hover{ transform:translateY(-6px) scale(1.03); box-shadow:0 16px 35px var(--shadow); }
.summary-card h3{ margin-bottom:15px; font-weight:600; }
.summary-card p{ font-size:1.8rem; font-weight:bold; }
.balance-card{ border-top:6px solid #4a90e2; color:#4a90e2; }
.income-card{ border-top:6px solid #4caf50; color:#4caf50; }
.expense-card{ border-top:6px solid #ff6b6b; color:#ff6b6b; }

/* Quick Actions */
.quick-actions{ display:flex; justify-content:center; gap:14px; flex-wrap:wrap; margin-bottom:3rem; }
.quick-actions button{ padding:14px 22px; border:none; border-radius:12px; background:linear-gradient(135deg,#4a90e2,#50e3c2); color:#fff; font-weight:600; cursor:pointer; transition:0.3s, box-shadow 0.3s; }
.quick-actions button:hover{ background:linear-gradient(135deg,#ff6b6b,#ff9472); transform:scale(1.08); box-shadow:0 8px 20px rgba(0,0,0,0.25); }
.quick-actions select{ padding:12px; border-radius:10px; border:1px solid #ccc; min-width:160px; transition:0.3s; }
.quick-actions select:hover{ border-color: var(--primary); }

/* Categories */
.categories-container{ display:flex; flex-wrap:wrap; gap:16px; margin-bottom:3rem; }
.category-card{ padding:20px 28px; border-radius:15px; text-align:center; font-weight:600; cursor:pointer; box-shadow:0 8px 22px var(--shadow); transition:0.3s; }
.category-card:hover{ transform:translateY(-5px) scale(1.03); box-shadow:0 12px 30px var(--shadow); }

/* Transactions Table */
.table-wrapper{ overflow-x:auto; margin-bottom:3rem; }
table{ width:100%; border-collapse:collapse; background: var(--card); border-radius:15px; box-shadow:0 8px 20px var(--shadow); }
table th, table td{ padding:14px 18px; text-align:left; border-bottom:1px solid #eee; }
table th{ background:#f0f4f8; font-weight:600; }

/* Weather */
#weather{ background: linear-gradient(135deg,#4a90e2,#50e3c2); color:#fff; padding:25px 30px; border-radius:20px; box-shadow:0 10px 25px var(--shadow); display:flex; gap:22px; align-items:center; justify-content:center; transition:0.3s; }
#weather img{ width:80px; height:80px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.4)); }
.weather-info{ display:flex; flex-direction:column; gap:6px; text-align:left; }
#weather-temp{ font-size:1.8rem; font-weight:bold; }
#weather-desc{ text-transform:capitalize; opacity:0.9; }
#weather:hover{ transform:scale(1.03); box-shadow:0 14px 30px var(--shadow); }

/* Settings */
.settings-grid{ display:flex; gap:18px; flex-wrap:wrap; justify-content:center; margin-bottom:3rem; }
.settings-grid button{ padding:14px 20px; border:none; border-radius:12px; cursor:pointer; background:linear-gradient(135deg,#4a90e2,#50e3c2); color:#fff; font-weight:600; transition:0.3s, box-shadow 0.3s; }
.settings-grid button:hover{ background:linear-gradient(135deg,#ff6b6b,#ff9472); transform:scale(1.08); box-shadow:0 8px 20px rgba(0,0,0,0.25); }

/* Modal */
.modal-dialog{ background: var(--card); border-radius:20px; max-width:540px; width:92%; box-shadow:0 14px 40px rgba(0,0,0,0.3); transform:scale(0.95); transition:0.3s; }
.modal[aria-hidden="false"] .modal-dialog{ transform:scale(1); }
.modal-header{ display:flex; justify-content:space-between; padding:18px 22px; background: var(--primary); color:#fff; border-radius:20px 20px 0 0; }
.modal-body{ padding:18px 22px; }
.modal-footer{ display:flex; gap:12px; justify-content:flex-end; margin-top:10px; }
.form-row{ display:flex; flex-direction:column; gap:8px; margin-bottom:14px; }
.form-row input,.form-row select{ padding:14px; border:1px solid #ddd; border-radius:10px; transition:0.3s; }
.form-row input:focus,.form-row select:focus{ outline:none; border-color: var(--primary); box-shadow:0 0 6px var(--primary); }
#cancel-add{ background:#e0e0e0; }
#save-add{ background: var(--success); color:#fff; }
.modal [type="submit"]:hover,.modal [type="button"]:hover{ transform:scale(1.05); }

/* Dark Mode Overrides */
body.dark-mode table {
  background: #2c2c3e;
  color: #f0f0f0;
  border-color: rgba(255,255,255,0.1);
}
body.dark-mode table th {
  background: #3a3a4f;
  color: #f0f0f0;
  border-bottom: 1px solid rgba(255,255,255,0.2);
}
body.dark-mode table td {
  border-bottom: 1px solid rgba(255,255,255,0.1);
}
body.dark-mode .quick-actions select {
  background: #2c2c3e;
  color: #f0f0f0;
  border:1px solid rgba(255,255,255,0.3);
}
body.dark-mode .quick-actions button {
  color:#fff;
}
body.dark-mode .modal-body input,
body.dark-mode .modal-body select {
  background:#3a3a4f;
  color:#f0f0f0;
  border:1px solid rgba(255,255,255,0.3);
}

/* Responsive */
@media(max-width:768px){
  .summary-container{ grid-template-columns:1fr; }
  .quick-actions{ flex-direction:column; gap:14px; }
  #weather{ flex-direction:column; align-items:center; text-align:center; }
  .settings-grid{ flex-direction:column; gap:14px; align-items:center; }
}
